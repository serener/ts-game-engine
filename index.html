<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<canvas id="cnv" width="1024" height="768" style="background-color: darkgray"></canvas>

<script type="application/javascript" src="dist/bundle.js">
</script>
<script>

    function edot(object, x, y) {
        let dot = engine.createObject(ObjectType.DOT_COMPONENT);
        dot.position = new Vector(x, y)
        dot.color = "green";
        object.addComponent(dot);
    }

    function esprite(object, x, y, endcolumn, row) {
        let image = new Image();
        image.src = "shooter_character.png";
        let sprite = engine.createObject(ObjectType.SPRITE_COMPONENT);
        sprite.image = image;
        sprite.position = new Vector(x, y);
        sprite.row = row;
        sprite.startColumn = 0;
        sprite.endColumn = endcolumn;
        sprite.width = 256 / 8;
        sprite.height = 224 / 7;
        sprite.speed = 150;
        sprite.scale = 4;
        object.addComponent(sprite);
        return sprite;
    }

    function eimage(object, image, x, y) {
        let img = engine.createObject(ObjectType.IMAGE_COMPONENT);
        img.image = image;
        img.position = new Vector(x, y)
        object.addComponent(img);
        return img;
    }

    function etext(object, text, font, x, y) {
        let txt = engine.createObject(ObjectType.TEXT_COMPONENT);
        txt.text = text;
        txt.font = font;
        txt.color = "#ffcc00"
        txt.position = new Vector(x, y)
        object.addComponent(txt);
        return txt;
    }

    let engine = new Engine();
    engine.setCanvas(document.getElementById("cnv"))

    let object = engine.createObject(ObjectType.OBJECT);

    edot(object, 300, 9)
    edot(object, 200, 109)
    edot(object, 300, 109)
    edot(object, 400, 109)
    edot(object, 100, 209)
    edot(object, 200, 209)
    edot(object, 300, 209)
    edot(object, 400, 209)
    edot(object, 500, 209)

    const image = new Image(300, 227);
    image.src = 'https://mdn.mozillademos.org/files/5397/rhino.jpg';
    // let eimg = eimage(object, image, 275, 300)

    // let txt = etext(object, "HELLO world!", "30px Arial", 280, 400)
    let sprite = esprite(object, 300, 400, 5, 0);
    let sprite2 = esprite(object, 400, 400, 5, 1);
    let sprite3 = esprite(object, 500, 400, 7, 2);
    let sprite4 = esprite(object, 300, 500, 5, 3);
    let sprite5 = esprite(object, 400, 500, 3, 4);
    let sprite6 = esprite(object, 500, 500, 7, 5);
    let sprite7 = esprite(object, 300, 600, 7, 6);
</script>
</body>
</html>